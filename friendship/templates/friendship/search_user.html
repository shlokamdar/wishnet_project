{% extends "dashboard_base.html" %}

{% block title %}Search Users{% endblock %}

{% block content %}
<div class="container my-5">
    <!-- Page Header -->
    <section class="text-center mb-5">
        <h1 class="display-4">Search Users</h1>
        <p class="text-muted">Find and connect with other users</p>
    </section>

    <!-- Search Form -->
    <div class="search-container bg-light p-3 rounded-pill shadow-sm mx-auto text-center">
        <form method="GET" action="{% url 'friendship:search_user' %}" class="d-flex justify-content-center">
            <input type="text" name="username" class="form-control rounded-pill me-2 px-3" placeholder="Search users...">
            <button type="submit" class="btn btn-danger rounded-pill px-4">Search</button>
        </form>
    </div>
    
    
     <!-- Search Results -->
     <div class="container d-flex justify-content-center">
        <div class="m-3" style="max-width: 500px; width: 100%;" id="search-results">
            {% if users %}
                <h2 class="text-center mb-4">Search Results</h2>
                <ul class="list-group">
                    {% for user in users %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <a href="{% url 'accounts:view_profile' user.id %}" class="text-decoration-none text-dark">
                                {{ user.username }}
                            </a>
                            <a href="{% url 'friendship:send_friend_request' user.id %}" 
   class="btn btn-danger rounded-pill px-3 py-2 px-sm-4 py-sm-3">
   Send Friend Request
</a>




                        </li>
                    {% endfor %}
                </ul>
            {% elif form.username %}
                <p class="text-center mt-4">No users found with that username.</p>
            {% endif %}
        </div>
    </div>
    
    
</div>
{% endblock %}
